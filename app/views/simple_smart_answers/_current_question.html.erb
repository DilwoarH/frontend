<%= form_tag smart_answer_path_for_responses(@flow_state.completed_questions, :edition => nil), :method => :get do %>
  <%= hidden_field_tag :edition, @edition if @edition.present? %>
  <%= hidden_field_tag 'response', '' %>
  <%
    if @flow_state.error?
      error_message = "Please answer this question"
    end
  %>
  <%= render "govuk_publishing_components/components/radio", {
    heading: "#{@flow_state.current_question_number}. #{question.title}",
    hint: strip_tags(question.body),
    error_message: error_message,
    name: "response",
    items: question.options.map { |option| { text: option.label, value: option.slug, checked: option.slug == params[:previous_response] } }
  } %>
  <%= render partial: 'draft_fields' %>

  <%= render "govuk_publishing_components/components/button", text: "Next step" %>
<% end %>
